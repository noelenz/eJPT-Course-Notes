# Windows Exploitation

## Windows Black Box Penetration Test

- A Black box pentest is a security assessment whereby the pentester is not provided with any information regarding the target system or network.
- The objective ob a Black Box pentest is to accurately test the security of a system or network as an external unprivileged adversary.
- This approach is very useful as it demonstrates how an external attacker with no inside knowledge would compromise a company's systems or networks

The following diagram outlines the various phases involved in a typical penetration test.

**Black Box Methodology**
- Host discovery
- Port scanning & enumeration
- Vulnerability detection/scanning
- Exploitation
  - Manual
  - Automated
- Post Exploitation
  - Privilege Escalation
  - Persistence
  - Dumping Hashes

![grafik](https://github.com/user-attachments/assets/5b4d241f-399d-4d20-b1eb-887ba43bb3a9)

### Scenario & Scope

- We just began our first job as Junior Pentester and have been assigned to assist in performing a pentest on a client's network.
- The pentest lead has assigned us to gain access/exploit a host running Windows Server 2008.
- Our primary objectives are:
  - Identify services running on the target
  - Identify vulnerabilites within the service
  - Exploit these vulnerabilities to obtain an initial foothold
 
## Port Scanning & Enumeration (Demo)

`cat /etc/hosts`

`cd Desktop`

`mkdir Win2k8`

`cd Wink2k8`

`nmap -sV demo.ine.local`

`nmap -T4 -PA -sC -sV -p 1-10000 demo.ine.local -oX nmap_10k`

While the Nmap scan runs, we try to access the web server.

After that we can perform banner grabbing

`nc -nv demo.ine.local 21`

Enumerating port 4848 via browser.

We can also check port 8080 via web browser (no SSL certificate).

Once the Nmap scan is done, we get a lot of information like name etc.

We can check all the other ports.

`service postgresql start && msfconsole`

`workspace -a Win_2k9`

`db_import /root/Desktop/win2k8/nmap_10k`

`hosts`

`services`

We run a msf module to make sure that the hostname is displayed correctly:

`search smb_version`

`use auxiliary/scanner/smb/smb_version`

`show options`

`set rhosts demo.ine.local`

`run`

`hosts`






